{"version":3,"sources":["webpack:///webpack/bootstrap fc7551fe9f577b7a010f","webpack:///./config/index.js","webpack:///./server/utils.js","webpack:///./~/babel-runtime/regenerator/index.js","webpack:///./nuxt.config.js","webpack:///./server/routes.js","webpack:///external \"koa\"","webpack:///external \"koa-respond\"","webpack:///external \"koa-router\"","webpack:///external \"nuxt\"","webpack:///./server/controllers/article.js","webpack:///./server/controllers/index.js","webpack:///external \"axios\"","webpack:///external \"regenerator-runtime\"","webpack:///external \"simple-node-logger\"","webpack:///./server/index.js","webpack:///./server/controllers/user.js"],"names":["baseService","url","method","baseURL","headers","timeout","responseType","common","code","FAILED","SUCCESS","UNAUTHORIZED","github","owner","repo","clientId","clientSecret","client","title","subtitle","service","Object","assign","proxy","host","port","process","env","PORT","server","allowedOrigins","timestampFormat","fetcher","axios","create","config","logger","simpleNodeLogger","createRollingFileLogger","logDirectory","fileNamePattern","createSimpleLogger","ctx","type","next","support","handleError","message","path","handleRequest","handleSuccess","data","info","success","err","end","error","keys","length","console","failed","isProd","module","exports","srcDir","cache","max","maxAge","dev","head","titleTemplate","meta","charset","content","name","hid","link","rel","href","css","src","lang","loading","build","vendor","plugins","ssr","router","linkActiveClass","use","request","response","origin","get","allowed","includes","query","_DEV_","find","item","set","status","body","all","articleController","list","like","userController","me","mdImageReg","articleCtrl","GET","page","per_page","search","labels","res","q","params","sort","order","client_id","client_secret","catch","prev","articles","items","map","articleParser","pagination","Number","total","total_count","filter","state","direction","number","Accept","detail","isLiked","user","login","POST","post","splits","split","thumb","cap","exec","_content","global","app","HOST","nuxtConfig","nuxt","builder","e","exit","respond","methods","send","Promise","resolve","reject","on","render","req","promise","then","prefix","routes","allowedMethods","listen","log","userCtrl"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fc7551fe9f577b7a010f","/**\n * @desc App Config\n * @author Jooger <zzy1198258955@163.com>\n * @date 19 Sep 2017\n */\n\n// const isProd = process.env.NODE_ENV === 'production'\nconst baseService = {\n  url: '/',\n  method: 'get',\n  baseURL: '/',\n  headers: {\n    'X-Requested-With': 'XMLHttpRequest',\n    'Accept': 'application/json'\n  },\n  timeout: 120000,\n  responseType: 'json'\n}\n\nexport default {\n  common: {\n    code: {\n      FAILED: -1,\n      SUCCESS: 0,\n      UNAUTHORIZED: 401\n    },\n    github: {\n      owner: 'jo0ger',\n      repo: 'git-hook-test',\n      clientId: 'b4983366c4c7549a09f1',\n      clientSecret: '76fd8c26a21659d7eb925af0ed3498eabed49277'\n    }\n  },\n  client: {\n    title: '离人回首，灯火阑珊',\n    subtitle: '欢迎访问我的个人网站',\n    service: Object.assign({}, baseService, {\n      baseURL: '/api',\n      proxy: {\n        host: '127.0.0.1',\n        port: process.env.PORT || 3000\n      }\n    })\n  },\n  server: {\n    allowedOrigins: [\n      'jooger.me',\n      'www.jooger.me',\n      'blog.jooger.me'\n    ],\n    service: Object.assign({}, baseService, {\n      baseURL: 'https://api.github.com/'\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./config/index.js","/**\n * @desc Utils\n * @author Jooger <zzy1198258955@163.com>\n * @date 19 Sep 2017\n */\n\nimport axios from 'axios'\nimport simpleNodeLogger from 'simple-node-logger'\nimport config from '../config'\n\nconst timestampFormat = 'YYYY-MM-DD HH:mm:ss'\n\nexport const fetcher = axios.create(config.server.service)\n\nexport const logger = (process.env.NODE_ENV === 'production' && process.env.log)\n  ? simpleNodeLogger.createRollingFileLogger({\n    timestampFormat,\n    logDirectory: './logs',\n    fileNamePattern: '<DATE>.log'\n  })\n  : new simpleNodeLogger.createSimpleLogger({\n    timestampFormat,\n  })\n\nexport async function handleRequest ({ ctx, type, next }) {\n  const method = ctx.method\n  const support = !!type[method]\n  if (support) {\n    await type[method](ctx, next)\n  } else {\n    handleError({ ctx, message: `${ctx.path}不支持${method}请求类型` })\n  }\n}\n\nexport function handleSuccess ({ ctx, message = '请求成功', data = {} }) {\n  logger.info(`接口：${ctx.path}，结果： ${message}`)\n  ctx.success({\n    message,\n    data: data || {}\n  })\n}\n\nexport function handleError ({ ctx, message = '请求失败', err = {} }, end = false) {\n  logger.error(`接口：${ctx.path}，结果： ${message}`)\n  Object.keys(err).length && console.error(err)\n  !end && ctx.failed({\n    message,\n    error: err || {}\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/utils.js","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/regenerator/index.js\n// module id = 2\n// module chunks = 0","const isProd = process.env.NODE_ENV === 'production'\n\nmodule.exports = {\n  srcDir: 'client/',\n  cache: {\n    max: 20,\n    maxAge: 600000\n  },\n  dev: !isProd,\n  head: {\n    title: 'Jooger.me - Jooger jooger, chicken dinner',\n    titleTemplate: '%s - Jooger.me',\n    meta: [\n      { charset: 'utf-8' },\n      { 'http-equiv': 'X-UA-Compatible', content: 'IE=edge' },\n      { 'http-equiv': 'Cache-Control', content: 'no-transform' },\n      { 'http-equiv': 'Cache-Control', content: 'no-siteapp' },\n      { 'http-equiv': 'cleartype', content: 'on' },\n      { name: 'viewport', content: 'width=device-width, initial-scale=1.0, user-scalable=no' },\n      { name: 'MobileOptimized', content: '320' },\n      { name: 'HandheldFriendly', content: 'True' },\n      { name: 'apple-mobile-web-app-capable', content: 'yes' },\n      { name: 'author', content: 'zzy1198258955@163.com' },\n      { hid: 'keywords', name: 'keywords', content: 'Jooger,Jooger.me,Blog,FE,前端技术开发' },\n      { hid: 'description', name: 'description', content: 'Jooger jooger, chicken dinner' }\n    ],\n    link: [\n      { rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' },\n      { rel: 'stylesheet', href: '//at.alicdn.com/t/font_268993_tu4k21igcspgmn29.css' }\n    ]\n  },\n  css: [\n    'normalize.css',\n    'swiper/dist/css/swiper.css',\n    'gitalk/dist/gitalk.css',\n    { src: '~assets/stylus/index.styl', lang: 'stylus' }\n  ],\n  loading: '~/components/Common/PageLoading',\n  // loading: { color: '#2196f3' },\n  build: {\n    vendor: [\n      'axios',\n      'bezier-easing',\n      'highlight.js',\n      'marked'\n    ]\n  },\n  plugins: [\n    { src: '~plugins/option.js' },\n    { src: '~plugins/filter.js' },\n    { src: '~plugins/swiper.js', ssr: false },\n    { src: '~plugins/image.js', ssr: false }\n  ],\n  router: {\n    linkActiveClass: 'active'\n  }\n  // transition: {\n  //   name: 'fade',\n  //   mode: 'out-in'\n  // }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js","/**\n * @desc server routes\n * @author Jooger <zzy1198258955@163.com>\n * @date 15 Sep 2017\n */\n\nimport config from '../config'\nimport { articleController, userController } from './controllers'\n\nexport default router => {\n  router.use('*', (ctx, next) => {\n    const { request, response } = ctx\n    const allowedOrigins = config.server.allowedOrigins\n    const origin = request.get('origin') || ''\n    const allowed = origin.includes('localhost') ||\n      (process.env.NODE_ENV === 'development' && request.query._DEV_) ||\n      allowedOrigins.find(item => origin.includes(item))\n    if (allowed) {\n      response.set('Access-Control-Allow-Origin', origin)\n    }\n    ctx.response.set('Content-Type', 'application/json;charset=utf-8')\n    response.set(\"Access-Control-Allow-Methods\", \"PUT,PATCH,POST,GET,DELETE,OPTIONS\")\n\n    if (request.method === 'OPTIONS') {\n      ctx.status = 200\n      ctx.body = 'ok'\n      return\n    }\n    \n    return next()\n  })\n\n  router.all('article-list', '/articles', articleController.list)\n  router.all('article-detail', '/article/:number', articleController.item)\n  router.all('article-like', '/article/:number/like', articleController.like)\n\n  router.all('user-me', '/user/me', userController.me)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes.js","module.exports = require(\"koa\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"koa-respond\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-respond\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"koa-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-router\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 8\n// module chunks = 0","/**\n * @desc Article controller\n * @author Jooger <zzy1198258955@163.com>\n * @date 19 Sep 2017\n */\n\nimport config from '../../config'\nimport { fetcher, handleRequest, handleSuccess, handleError } from '../utils'\n\nconst mdImageReg = /^!\\[((?:\\[[^\\]]*\\]|[^[\\]]|\\](?=[^[]*\\]))*)\\]\\(\\s*<?([\\s\\S]*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*\\)/\n\nconst articleCtrl = { list: {}, item: {}, like: {} }\n\nconst { owner, repo, clientId, clientSecret } = config.common.github\n\narticleCtrl.list.GET = async (ctx, next) => {\n  const { page = 1, per_page = 12, search = '', labels = '' } = ctx.query\n  let res = null\n  if (search) {\n    const q = `${search} type:issue is:public state:open in:title,body author:${owner} repo:${owner}/${repo}`\n    res = await fetcher.get('/search/issues', {\n      params: {\n        q,\n        sort: 'created',\n        order: 'asc',\n        client_id: clientId,\n        client_secret: clientSecret,\n        page,\n        per_page\n      }\n    }).catch(err => handleError({ ctx, err }))\n\n    if (res && res.data) {\n      const link = res.headers.link || ''\n      let prev = link.includes('rel=\"prev\"')\n      let next = link.includes('rel=\"next\"')\n      const articles = res.data.items ? res.data.items.map(item => {\n        item.body = articleParser(item.body)\n        return item\n      }) : []\n      handleSuccess({\n        ctx,\n        data: {\n          list: articles,\n          pagination: { prev, next, page: Number(page), per_page },\n          total: res.data.total_count\n        }\n      })\n    }\n  } else {\n    const params = {\n      filter: 'created',\n      state: 'open',\n      sort: 'created',\n      direction: 'desc',\n      client_id: clientId,\n      client_secret: clientSecret,\n      page,\n      per_page\n    }\n    if (labels) {\n      params.labels = labels\n    }\n    res = await fetcher.get(`/repos/${owner}/${repo}/issues`, { params })\n      .catch(err => handleError({ ctx, err }))\n    if (res && res.data) {\n      const link = res.headers.link || ''\n      let prev = link.includes('rel=\"prev\"')\n      let next = link.includes('rel=\"next\"')\n      const articles = res.data.map(item => {\n        item.body = articleParser(item.body)\n        return item\n      })\n      // ctx.response.set('Accept', 'application/vnd.github.squirrel-girl-preview')\n      handleSuccess({\n        ctx,\n        data: {\n          list: articles,\n          pagination: { prev, next, page: Number(page), per_page }\n        }\n      })\n    }\n  }\n\n  if (!res) {\n    handleError({ ctx })\n  }\n}\n\narticleCtrl.item.GET = async (ctx, next) => {\n  const number = ctx.params.number\n  const res = await fetcher.get(`/repos/${owner}/${repo}/issues/${number}`, {\n    headers: {\n      Accept: 'application/vnd.github.squirrel-girl-preview'\n    },\n    params: {\n      client_id: clientId,\n      client_secret: clientSecret\n    }\n  }).catch(err => handleError({ ctx, err }))\n  if (res && res.data) {\n    const detail = res.data\n    detail.body = articleParser(detail.body)\n    handleSuccess({\n      ctx,\n      data: detail\n    })\n  } else {\n    handleError({ ctx })\n  }\n}\n\narticleCtrl.like.GET = async (ctx, next) => {\n  const number = ctx.params.number\n  const res = await fetcher.get(`/repos/${owner}/${repo}/issues/${number}/reactions`, {\n    headers: {\n      Accept: 'application/vnd.github.squirrel-girl-preview'\n    },\n    params: {\n      content: 'heart',\n      per_page: 99999,\n      client_id: clientId,\n      client_secret: clientSecret\n    }\n  }).catch(err => handleError({ ctx, err }))\n\n  if (res && res.data) {\n    handleSuccess({\n      ctx,\n      data: {\n        list: res.data,\n        isLiked: !!res.data.find(item => item.user.login === owner)\n      }\n    })\n  } else {\n    handleError({ ctx })\n  }\n}\n\narticleCtrl.like.POST = async (ctx, next) => {\n  const number = ctx.params.number\n  const res = await fetcher.post(\n    `/repos/${owner}/${repo}/issues/${number}/reactions`,\n    {\n      content: 'heart',\n      client_id: clientId,\n      client_secret: clientSecret\n    },\n    {\n      headers: {\n        Accept: 'application/vnd.github.squirrel-girl-preview'\n      },\n      params: {\n        client_id: clientId,\n        client_secret: clientSecret\n      }\n    }\n  ).catch(err => handleError({ ctx, err }))\n\n  if (res && res.data) {\n    handleSuccess({ ctx })\n  } else {\n    handleError({ ctx })\n  }\n}\n\nfunction articleParser (content) {\n  const data = {}\n  const splits = content.split('\\r\\n')\n  const thumb = splits[0]\n  let cap = mdImageReg.exec(thumb)\n  if (cap) {\n    data.thumb = cap[2]\n    data.content = content.split(thumb)[1]\n  } else {\n    data.content = content\n  }\n  data._content = content\n  return data\n}\n\nexport default {\n  list: async (ctx, next) => {\n    await handleRequest({ ctx, next, type: articleCtrl.list })\n  },\n  item: async (ctx, next) => {\n    await handleRequest({ ctx, next, type: articleCtrl.item })\n  },\n  like: async (ctx, next) => {\n    await handleRequest({ ctx, next, type: articleCtrl.like })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/article.js","/**\n * @desc Controllers entry\n * @author Jooger <zzy1198258955@163.com>\n * @date 19 Sep 2017\n */\n\nexport { default as articleController } from './article'\nexport { default as userController } from './user'\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/index.js","module.exports = require(\"axios\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"axios\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"regenerator-runtime\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"regenerator-runtime\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"simple-node-logger\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"simple-node-logger\"\n// module id = 13\n// module chunks = 0","import Koa from 'koa'\nimport Router from 'koa-router'\nimport respond from 'koa-respond'\nimport { Nuxt, Builder } from 'nuxt'\nimport routes from './routes'\nimport config from '../config'\nimport nuxtConfig from '../nuxt.config'\nimport { logger } from './utils'\n\nglobal.logger = logger\n\nconst app = new Koa()\nconst host = process.env.HOST || '127.0.0.1'\nconst port = process.env.PORT || 3000\n\n// Set Nuxt.js options\nnuxtConfig.dev = !(app.env === 'production')\n\n// Instantiate nuxt.js\nconst nuxt = new Nuxt(nuxtConfig)\n\n// Build in development\nif (nuxtConfig.dev) {\n  const builder = new Builder(nuxt)\n  builder.build().catch(e => {\n    console.error(e) // eslint-disable-line no-console\n    process.exit(1)\n  })\n}\n\napp.use(respond({\n  methods: {\n    success: (ctx, body) => {\n      body = Object.assign({}, {\n        code: config.common.code.SUCCESS\n      }, body)\n      ctx.send(200, body)\n    },\n    failed: (ctx, body) => {\n      body = Object.assign({}, {\n        code: config.common.code.FAILED\n      }, body)\n      ctx.send(200, body)\n    }\n  }\n}))\napp.use((ctx, next) => {\n  if (ctx.url.includes('/api')) {\n    return next()\n  }\n  ctx.status = 200 // koa defaults to 404 when it sees that status is unset\n  return new Promise((resolve, reject) => {\n    ctx.res.on('close', resolve)\n    ctx.res.on('finish', resolve)\n    nuxt.render(ctx.req, ctx.res, promise => {\n      // nuxt.render passes a rejected promise into callback on error.\n      promise.then(resolve).catch(reject)\n    })\n  })\n})\n\nconst router = new Router({\n  prefix: '/api'\n})\nroutes(router)\napp.use(router.routes(), router.allowedMethods())\n\napp.listen(port, host)\nconsole.log('Server listening on ' + host + ':' + port) // eslint-disable-line no-console\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js","/**\n * @desc User controller\n * @author Jooger <zzy1198258955@163.com>\n * @date 19 Sep 2017\n */\n\nimport config from '../../config'\nimport { fetcher, handleRequest, handleSuccess, handleError } from '../utils'\nconst { owner, clientId, clientSecret } = config.common.github\nconst userCtrl = { me: {} }\n\nuserCtrl.me.GET = async (ctx, next) => {\n  const res = await fetcher.get(`/users/${owner}`, {\n    params: {\n      client_id: clientId,\n      client_secret: clientSecret\n    }\n  }).catch(err => handleError({ ctx, err }))\n\n  if (res && res.data) {\n    handleSuccess({\n      ctx,\n      data: res.data\n    })\n  } else {\n    handleError({ ctx })\n  }\n}\n\nexport default {\n  me: async (ctx, next) => {\n    await handleRequest({ ctx, next, type: userCtrl.me })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/user.js"],"sourceRoot":""}